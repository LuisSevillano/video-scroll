!function(t){var e={};function i(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(s,o,function(e){return t[e]}.bind(null,o));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=5)}([function(t,e,i){var s=i(1);"string"==typeof s&&(s=[[t.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(3)(s,o);s.locals&&(t.exports=s.locals)},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,"#scroll-indicator-container{position:fixed;top:50%;transform:translateY(-50%);right:5px;width:10px}@media (min-width:600px){#scroll-indicator-container{right:10px}}#scroll-indicator-container .scroll-indicator-dot{cursor:pointer;margin-bottom:10px;border-radius:50%;width:10px;height:10px;background-color:#dcdcdc;text-align:center}#scroll-indicator-container .scroll-indicator-dot.active{background-color:#646464;border:1px solid #fff}#scroll-steps{pointer-events:none;font-family:sans-serif;position:relative;z-index:10}@media (min-width:600px){#scroll-steps{padding:0 30px}}#scroll-steps .scroll-step{margin-left:5px;margin-right:5px;padding:15px;background:#fff;border-radius:2px;box-shadow:0 1px 2px rgba(0,0,0,.33)}@media (min-width:600px){#scroll-steps .scroll-step{margin-left:0;margin-right:0}}#scroll-steps .scroll-step.g-ghost-step{opacity:0}#scroll-steps .scroll-step.scroll-step-center{margin:0 auto}#scroll-steps .scroll-step.scroll-step-right{margin-left:auto}@media (min-width:600px){#scroll-steps .scroll-step{max-width:none;width:400px}}#scroll-steps .scroll-step:last-child{margin-bottom:0}#scroll-steps .scroll-step .step-content{pointer-events:none;display:block}#scroll-steps .scroll-step .step-content p{text-align:left;color:#000;font-weight:400;font-style:normal;line-height:1.5;font-size:16px;margin-bottom:10px}#g-scroll-vid video{width:100%;min-height:100%;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}#g-scroll-vid{box-shadow:inset -10px 0 20px 0 #000}#g-scroll-vid h1{color:#f4f4f4!important;position:absolute;top:50%;text-shadow:0 1px 3px #211d1a,1px 0 3px #211d1a,-1px -1px 3px #211d1a,-1px 0 3px #211d1a;font-family:Frank Ruhl Libre,serif;font-size:3em;text-align:center}#g-scroll-vid #g-fixed{position:fixed;top:0;left:0;width:100%;height:100vh;z-index:-1;overflow:hidden}body{background-color:#000;margin:0}#g-scroll-vid *,#g-scroll-vid :after,#g-scroll-vid :before{box-sizing:border-box}#g-scroll-vid ol[class],#g-scroll-vid ul[class]{padding:0}#g-scroll-vid blockquote,#g-scroll-vid body,#g-scroll-vid dd,#g-scroll-vid dl,#g-scroll-vid figcaption,#g-scroll-vid figure,#g-scroll-vid h1,#g-scroll-vid h2,#g-scroll-vid h3,#g-scroll-vid h4,#g-scroll-vid li,#g-scroll-vid ol[class],#g-scroll-vid p,#g-scroll-vid ul[class]{margin:0}#g-scroll-vid body{min-height:100vh;scroll-behavior:smooth;text-rendering:optimizeSpeed;line-height:1.5}#g-scroll-vid ol[class],#g-scroll-vid ul[class]{list-style:none}#g-scroll-vid a:not([class]){-webkit-text-decoration-skip:ink;text-decoration-skip-ink:auto}#g-scroll-vid img{max-width:100%;display:block}#g-scroll-vid article>*+*{margin-top:1em}#g-scroll-vid button,#g-scroll-vid input,#g-scroll-vid select,#g-scroll-vid textarea{font:inherit}@media (prefers-reduced-motion:reduce){#g-scroll-vid *{-webkit-animation-duration:.01ms!important;animation-duration:.01ms!important;-webkit-animation-iteration-count:1!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}}",""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=function(t,e){var i=t[1]||"",s=t[3];if(!s)return i;if(e&&"function"==typeof btoa){var o=(n=s,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),r=s.sources.map((function(t){return"/*# sourceURL="+s.sourceRoot+t+" */"}));return[i].concat(r).concat([o]).join("\n")}var n;return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i})).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var s={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(s[r]=!0)}for(o=0;o<t.length;o++){var n=t[o];"number"==typeof n[0]&&s[n[0]]||(i&&!n[2]?n[2]=i:i&&(n[2]="("+n[2]+") and ("+i+")"),e.push(n))}},e}},function(t,e,i){var s,o,r={},n=(s=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=s.apply(this,arguments)),o}),l=function(t,e){return e?e.querySelector(t):document.querySelector(t)},a=function(t){var e={};return function(t,i){if("function"==typeof t)return t();if(void 0===e[t]){var s=l.call(this,t,i);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(t){s=null}e[t]=s}return e[t]}}(),c=null,d=0,p=[],h=i(4);function u(t,e){for(var i=0;i<t.length;i++){var s=t[i],o=r[s.id];if(o){o.refs++;for(var n=0;n<o.parts.length;n++)o.parts[n](s.parts[n]);for(;n<s.parts.length;n++)o.parts.push(y(s.parts[n],e))}else{var l=[];for(n=0;n<s.parts.length;n++)l.push(y(s.parts[n],e));r[s.id]={id:s.id,refs:1,parts:l}}}}function f(t,e){for(var i=[],s={},o=0;o<t.length;o++){var r=t[o],n=e.base?r[0]+e.base:r[0],l={css:r[1],media:r[2],sourceMap:r[3]};s[n]?s[n].parts.push(l):i.push(s[n]={id:n,parts:[l]})}return i}function g(t,e){var i=a(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var s=p[p.length-1];if("top"===t.insertAt)s?s.nextSibling?i.insertBefore(e,s.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),p.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=a(t.insertAt.before,i);i.insertBefore(e,o)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=p.indexOf(t);e>=0&&p.splice(e,1)}function v(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var s=function(){0;return i.nc}();s&&(t.attrs.nonce=s)}return b(e,t.attrs),g(t,e),e}function b(t,e){Object.keys(e).forEach((function(i){t.setAttribute(i,e[i])}))}function y(t,e){var i,s,o,r;if(e.transform&&t.css){if(!(r="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=r}if(e.singleton){var n=d++;i=c||(c=v(e)),s=C.bind(null,i,n,!1),o=C.bind(null,i,n,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",b(e,t.attrs),g(t,e),e}(e),s=E.bind(null,i,e),o=function(){m(i),i.href&&URL.revokeObjectURL(i.href)}):(i=v(e),s=S.bind(null,i),o=function(){m(i)});return s(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;s(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=n()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=f(t,e);return u(i,e),function(t){for(var s=[],o=0;o<i.length;o++){var n=i[o];(l=r[n.id]).refs--,s.push(l)}t&&u(f(t,e),e);for(o=0;o<s.length;o++){var l;if(0===(l=s[o]).refs){for(var a=0;a<l.parts.length;a++)l.parts[a]();delete r[l.id]}}}};var x,w=(x=[],function(t,e){return x[t]=e,x.filter(Boolean).join("\n")});function C(t,e,i,s){var o=i?"":s.css;if(t.styleSheet)t.styleSheet.cssText=w(e,o);else{var r=document.createTextNode(o),n=t.childNodes;n[e]&&t.removeChild(n[e]),n.length?t.insertBefore(r,n[e]):t.appendChild(r)}}function S(t,e){var i=e.css,s=e.media;if(s&&t.setAttribute("media",s),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function E(t,e,i){var s=i.css,o=i.sourceMap,r=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||r)&&(s=h(s)),o&&(s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var n=new Blob([s],{type:"text/css"}),l=t.href;t.href=URL.createObjectURL(n),l&&URL.revokeObjectURL(l)}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,s=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var o,r=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(o=0===r.indexOf("//")?r:0===r.indexOf("/")?i+r:s+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(t,e,i){"use strict";i.r(e);i(0);new class{constructor(t){this.name="VideoScroll",this.el=document.querySelector("#g-scroll-vid"),this.vid=this.el.querySelector("#g-vid"),this.top_offset=0,this.width=window.innerWidth,this.height=window.innerHeight,this.scroll_trigger=this.height,this.endTime=0,this.options=t,this.stepSelector=".scroll-step",this.steps,this.setOptions?this.setOptions(t):this.options=t||{},console.log(this)}init(){this.steps={first_step_div:$(".scroll-steps .g-first"),last_step_div:$(".scroll-steps .g-last"),all:$(".scroll-step")},this.width>this.height?this.height/this.width>=.65?this.loadVideo("med"):this.loadVideo("desktop"):this.loadVideo("mobile"),this.vid.ontimeupdate=()=>{this.timeUpdate()},this.scrollIndicator=new class{constructor(t){this.parent=document.querySelector("#g-scroll-vid"),this.steps=this.parent.querySelectorAll(".scroll-indicator"),this.el=this.parent.querySelector("#scroll-indicator-container"),this.animDuration=750,this.scrollOffset=-30}init(){if(!this.el){const t=document.createElement("div");t.setAttribute("id","scroll-indicator-container"),this.parent.append(t),this.el=t}this.dots=this.createDotsElements(),this.bindEvents()}createDotsElements(){return this.steps.forEach(t=>{const e=document.createElement("div");e.setAttribute("data-step",t.dataset.step),e.classList.add("scroll-indicator-dot"),this.el.append(e)}),this.el.querySelectorAll(".scroll-indicator-dot")}update(t){t&&(this.removeClasses(this.dots,"active"),this.el.querySelectorAll(".scroll-indicator-dot").forEach(e=>{e.dataset.step===t.dataset.step&&e.classList.add("active")},this))}removeClasses(t,e){t.forEach((t,i)=>{t.classList.remove(e)},this)}getStep(t){return Array.from(this.steps).filter(e=>e.dataset.step==t)[0]}bindEvents(){this.scrollEvents()}easeInCubic(t){return t*t*t}scrollToElem(t,e,i,s,o){const r=e-t;let n=r/i;n=Math.min(n,1);const l=this.easeInCubic(n);window.scroll(0,o+s*l),r<i&&requestAnimationFrame(e=>{const r=e||(new Date).getTime();this.scrollToElem(t,r,i,s,o)})}scrollEvents(t){const e=document.querySelectorAll(".scroll-indicator-dot");for(let t=0;t<e.length;t++){e[t].addEventListener("click",t=>{t.preventDefault();const e=t.target.dataset.step,i=Array.from(this.steps).filter(t=>t.dataset.step===e)[0];requestAnimationFrame(t=>{const e=t||(new Date).getTime(),s=this.animDuration,o=e,r=window.pageYOffset+this.scrollOffset,n=i.getBoundingClientRect().top;this.scrollToElem(o,e,s,n,r)})})}}}({}),this.scrollIndicator.init(),this.setStepsHeight(),this.setActiveElement(),this.bindEvents(),this.isStarted()&&this.playStep($(".g-active"),!1)}bindEvents(){window.addEventListener("scroll",function(t){const e=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop;this.onScroll(e)}.bind(this),!1),window.addEventListener("resize",function(){this.updateSizes()}.bind(this),!1)}updateSizes(){this.width=window.innerWidth,this.height=window.innerHeight,this.scroll_trigger=this.height,this.width>this.height?this.height/this.width>=.65?console.log("med"):console.log("desktop"):console.log("mobile")}setStepsHeight(){this.el.querySelectorAll(this.stepSelector).forEach(t=>{t.style.marginBottom=`${window.innerHeight-this.top_offset}px`},this)}timeUpdate(){this.vid.currentTime>=this.endTime&&this.vid.pause()}ontimeupdate(){this.timeUpdate()}loadVideo(t){let e,i="";"mobile"==t?(e="g-vid-mobile",i="_mobile"):"med"==t?e="g-vid-med":"desktop"==t&&(e="g-vid-desktop"),this.el.querySelector("#g-vid").classList.add(e);const s=document.createElement("source"),o=document.createElement("source"),r=this.el.querySelector("#g-vid");s.setAttribute("src",r.getAttribute(`data-mp4${i}`)),o.setAttribute("src",r.getAttribute(`data-webm${i}`)),this.vid.appendChild(s),this.vid.appendChild(o),this.vid.load()}update(t,e,i,s){0===t||t?(0==t&&d3.select("#g-heading").transition().duration(250).style("opacity",0),d3.select("#g-fixed").transition().duration(250).style("opacity",1),this.endTime=i,this.vid.currentTime=e,this.vid.play()):($(".scroll-steps").removeClass("g-next").removeClass("g-prev").removeClass("g-active"),s?(this.vid.currentTime=0,this.vid.pause(),d3.select("#g-heading").transition().duration(250).style("opacity",1)):d3.select("#g-fixed").transition().duration(500).style("opacity",0))}resetVideo(){$(".scroll-steps").removeClass("g-next").removeClass("g-prev").removeClass("g-active"),$(".g-first").addClass("g-next"),d3.select("#g-heading").transition().duration(250).style("opacity",1),this.vid.currentTime=0,this.vid.pause()}playStep(t,e){const i=t.data("step"),s=t.data("start"),o=t.data("end");this.update(i,s,o,e),console.log({step_num:i,start_time:s,end_time:o,is_reverse:e}),this.updatePrevNext(t)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}removeClassMany(t,e){Array.isArray(e)?t.forEach((t,i)=>{e.forEach(e=>{this.removeClass(t,e)},this)},this):t.forEach((t,i)=>{this.removeClass(t,e)},this)}updatePrevNext(t){t.addClass("g-active").removeClass("g-next").removeClass("g-prev").siblings().removeClass("g-active"),t.next().addClass("g-next").removeClass("g-active").removeClass("g-prev").siblings().removeClass("g-next"),t.prev().addClass("g-prev").removeClass("g-active").removeClass("g-next").siblings().removeClass("g-prev")}onScroll(t){console.log("onScroll",t);const e=+this.steps.first_step_div.offset().top-t,i=$(".g-next").length,s=$(".g-prev").length,o=+this.steps.last_step_div.offset().top-t+this.steps.last_step_div.height();e<=this.scroll_trigger&&e>=this.top_offset&&!i?this.steps.first_step_div.addClass("g-next"):o>=this.top_offset&&o<=this.scroll_trigger&&!s&&this.steps.last_step_div.addClass("g-prev");let r=null;$(".g-next").length&&(r=+$(".g-next").offset().top-t);let n=null;s&&(n=+$(".g-prev").offset().top-t+$(".g-prev").height()),r&&r<=this.scroll_trigger&&(console.log("firstIf"),this.playStep($(".g-next"),!1)),n&&n>=this.top_offset&&(console.log("secondIf"),this.playStep($(".g-prev"),!0)),0===t&&this.resetVideo(),this.scrollIndicator.update(this.getActiveElement())}isStarted(){return 0!==(window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop)}getActiveElement(){let t;return this.steps.all.each((e,i)=>{this.inViewport(i)&&(t=i)},this),t}setActiveElement(){this.steps.all.each((t,e)=>{this.inViewport(e)?this.addClass(e,"g-active"):this.removeClass(e,"g-active")},this)}inViewport(t){const e=t.getBoundingClientRect(),i=window.innerWidth||document.documentElement.clientWidth,s=window.innerHeight||document.documentElement.clientHeight;return e.top>=0&&e.left>=0&&e.right<=i&&e.bottom<=s}getOffset(t){const e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset-document.documentElement.clientTop,left:e.left+window.pageXOffset-document.documentElement.clientLeft}}getHeight(t){const e=window.getComputedStyle(t),i=t.offsetHeight,s=parseFloat(e.borderTopWidth);return i-parseFloat(e.borderBottomWidth)-s-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)}}({}).init()}]);